!function($){function parseXML(xml){void 0==window.DOMParser&&window.ActiveXObject&&(DOMParser=function(){},DOMParser.prototype.parseFromString=function(xmlString){var doc=new ActiveXObject("Microsoft.XMLDOM");return doc.async="false",doc.loadXML(xmlString),doc});try{var xmlDoc=(new DOMParser).parseFromString(xml,"text/xml");if(!$.isXMLDoc(xmlDoc))throw"Unable to parse XML";var err=$("parsererror",xmlDoc);if(1==err.length)throw"Error: "+$(xmlDoc).text()}catch(e){var msg=void 0==e.name?e:e.name+": "+e.message;return void $(document).trigger("xmlParseError",[msg])}return xmlDoc}function trigger(s,type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}function isMockDataEqual(mock,live){var identical=!1;return"string"==typeof live?$.isFunction(mock.test)?mock.test(live):mock==live:($.each(mock,function(k){return void 0===live[k]?identical=!1:(identical=!0,"object"==typeof live[k]?isMockDataEqual(mock[k],live[k]):identical=$.isFunction(mock[k].test)?mock[k].test(live[k]):mock[k]==live[k])}),identical)}function getMockForRequest(handler,requestSettings){if($.isFunction(handler))return handler(requestSettings);if($.isFunction(handler.url.test)){if(!handler.url.test(requestSettings.url))return null}else{var star=handler.url.indexOf("*");if(handler.url!==requestSettings.url&&-1===star||!new RegExp(handler.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace("*",".+")).test(requestSettings.url))return null}return handler.data&&requestSettings.data&&!isMockDataEqual(handler.data,requestSettings.data)?null:handler&&handler.type&&handler.type.toLowerCase()!=requestSettings.type.toLowerCase()?null:handler}function logMock(mockHandler,requestSettings){var c=$.extend({},$.mockjaxSettings,mockHandler);c.log&&$.isFunction(c.log)&&c.log("MOCK "+requestSettings.type.toUpperCase()+": "+requestSettings.url,$.extend({},requestSettings))}function _xhrSend(mockHandler,requestSettings,origSettings){var process=function(that){return function(){return function(){this.status=mockHandler.status,this.statusText=mockHandler.statusText,this.readyState=4,$.isFunction(mockHandler.response)&&mockHandler.response(origSettings),"json"==requestSettings.dataType&&"object"==typeof mockHandler.responseText?this.responseText=JSON.stringify(mockHandler.responseText):"xml"==requestSettings.dataType?this.responseXML="string"==typeof mockHandler.responseXML?parseXML(mockHandler.responseXML):mockHandler.responseXML:this.responseText=mockHandler.responseText,("number"==typeof mockHandler.status||"string"==typeof mockHandler.status)&&(this.status=mockHandler.status),"string"==typeof mockHandler.statusText&&(this.statusText=mockHandler.statusText),$.isFunction(this.onreadystatechange)?(mockHandler.isTimeout&&(this.status=-1),this.onreadystatechange(mockHandler.isTimeout?"timeout":void 0)):mockHandler.isTimeout&&(this.status=-1)}.apply(that)}}(this);mockHandler.proxy?_ajax({global:!1,url:mockHandler.proxy,type:mockHandler.proxyType,data:mockHandler.data,dataType:"script"===requestSettings.dataType?"text/plain":requestSettings.dataType,complete:function(xhr){mockHandler.responseXML=xhr.responseXML,mockHandler.responseText=xhr.responseText,mockHandler.status=xhr.status,mockHandler.statusText=xhr.statusText,this.responseTimer=setTimeout(process,mockHandler.responseTime||0)}}):requestSettings.async===!1?process():this.responseTimer=setTimeout(process,mockHandler.responseTime||50)}function xhr(mockHandler,requestSettings,origSettings,origHandler){return mockHandler=$.extend({},$.mockjaxSettings,mockHandler),"undefined"==typeof mockHandler.headers&&(mockHandler.headers={}),mockHandler.contentType&&(mockHandler.headers["content-type"]=mockHandler.contentType),{status:mockHandler.status,statusText:mockHandler.statusText,readyState:1,open:function(){},send:function(){origHandler.fired=!0,_xhrSend.call(this,mockHandler,requestSettings,origSettings)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(header,value){mockHandler.headers[header]=value},getResponseHeader:function(header){return mockHandler.headers&&mockHandler.headers[header]?mockHandler.headers[header]:"last-modified"==header.toLowerCase()?mockHandler.lastModified||(new Date).toString():"etag"==header.toLowerCase()?mockHandler.etag||"":"content-type"==header.toLowerCase()?mockHandler.contentType||"text/plain":void 0},getAllResponseHeaders:function(){var headers="";return $.each(mockHandler.headers,function(k,v){headers+=k+": "+v+"\n"}),headers}}}function processJsonpMock(requestSettings,mockHandler,origSettings){if(processJsonpUrl(requestSettings),requestSettings.dataType="json",requestSettings.data&&CALLBACK_REGEX.test(requestSettings.data)||CALLBACK_REGEX.test(requestSettings.url)){createJsonpCallback(requestSettings,mockHandler);var rurl=/^(\w+:)?\/\/([^\/?#]+)/,parts=rurl.exec(requestSettings.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(requestSettings.dataType="script","GET"===requestSettings.type.toUpperCase()&&remote){var newMockReturn=processJsonpRequest(requestSettings,mockHandler,origSettings);return newMockReturn?newMockReturn:!0}}return null}function processJsonpUrl(requestSettings){"GET"===requestSettings.type.toUpperCase()?CALLBACK_REGEX.test(requestSettings.url)||(requestSettings.url+=(/\?/.test(requestSettings.url)?"&":"?")+(requestSettings.jsonp||"callback")+"=?"):requestSettings.data&&CALLBACK_REGEX.test(requestSettings.data)||(requestSettings.data=(requestSettings.data?requestSettings.data+"&":"")+(requestSettings.jsonp||"callback")+"=?")}function processJsonpRequest(requestSettings,mockHandler,origSettings){var newMock=(origSettings&&origSettings.context||requestSettings,null);return mockHandler.response&&$.isFunction(mockHandler.response)?mockHandler.response(origSettings):$.globalEval("object"==typeof mockHandler.responseText?"("+JSON.stringify(mockHandler.responseText)+")":"("+mockHandler.responseText+")"),jsonpSuccess(requestSettings,mockHandler),jsonpComplete(requestSettings,mockHandler),jQuery.Deferred&&(newMock=new jQuery.Deferred,newMock.resolve("object"==typeof mockHandler.responseText?mockHandler.responseText:jQuery.parseJSON(mockHandler.responseText))),newMock}function createJsonpCallback(requestSettings,mockHandler){jsonp=requestSettings.jsonpCallback||"jsonp"+jsc++,requestSettings.data&&(requestSettings.data=(requestSettings.data+"").replace(CALLBACK_REGEX,"="+jsonp+"$1")),requestSettings.url=requestSettings.url.replace(CALLBACK_REGEX,"="+jsonp+"$1"),window[jsonp]=window[jsonp]||function(tmp){data=tmp,jsonpSuccess(requestSettings,mockHandler),jsonpComplete(requestSettings,mockHandler),window[jsonp]=void 0;try{delete window[jsonp]}catch(e){}head&&head.removeChild(script)}}function jsonpSuccess(requestSettings,mockHandler){requestSettings.success&&requestSettings.success.call(callbackContext,mockHandler.response?mockHandler.response.toString():mockHandler.responseText||"",status,{}),requestSettings.global&&trigger(requestSettings,"ajaxSuccess",[{},requestSettings])}function jsonpComplete(requestSettings){requestSettings.complete&&requestSettings.complete.call(callbackContext,{},status),requestSettings.global&&trigger("ajaxComplete",[{},requestSettings]),requestSettings.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop")}function handleAjax(url,origSettings){var mockRequest,requestSettings,mockHandler;"object"==typeof url?(origSettings=url,url=void 0):origSettings.url=url,requestSettings=jQuery.extend(!0,{},jQuery.ajaxSettings,origSettings);for(var k=0;k<mockHandlers.length;k++)if(mockHandlers[k]&&(mockHandler=getMockForRequest(mockHandlers[k],requestSettings)))return logMock(mockHandler,requestSettings),"jsonp"===requestSettings.dataType&&(mockRequest=processJsonpMock(requestSettings,mockHandler,origSettings))?mockRequest:(mockHandler.cache=requestSettings.cache,mockHandler.timeout=requestSettings.timeout,mockHandler.global=requestSettings.global,function(mockHandler,requestSettings,origSettings,origHandler){mockRequest=_ajax.call($,$.extend(!0,{},origSettings,{xhr:function(){return xhr(mockHandler,requestSettings,origSettings,origHandler)}}))}(mockHandler,requestSettings,origSettings,mockHandlers[k]),mockRequest);return _ajax.apply($,[origSettings])}var _ajax=$.ajax,mockHandlers=[],CALLBACK_REGEX=/=\?(&|$)/,jsc=(new Date).getTime();$.extend({ajax:handleAjax}),$.mockjaxSettings={log:function(msg){window.console&&window.console.log&&window.console.log(msg)},status:200,statusText:"OK",responseTime:500,isTimeout:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},$.mockjax=function(settings){var i=mockHandlers.length;return mockHandlers[i]=settings,i},$.mockjaxClear=function(i){1==arguments.length?mockHandlers[i]=null:mockHandlers=[]},$.mockjax.handler=function(i){return 1==arguments.length?mockHandlers[i]:void 0}}(jQuery);