!function($){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}var Datetimepicker=function(element,options){var that=this;this.element=$(element),this.language=options.language||this.element.data("date-language")||"en",this.language=this.language in dates?this.language:"en",this.isRTL=dates[this.language].rtl||"rtl"==$("body").css("direction"),this.formatType=options.formatType||this.element.data("format-type")||"standard",this.format=DPGlobal.parseFormat(options.format||this.element.data("date-format")||dates[this.language].format||DPGlobal.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".date-set").parent():!1,this.componentReset=this.element.is(".date")?this.element.find(".date-reset").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=options.linkField||this.element.data("link-field")||!1,this.linkFormat=DPGlobal.parseFormat(options.linkFormat||this.element.data("link-format")||DPGlobal.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=options.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=options.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=options.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=options.initialDate||new Date,this._attachEvents(),this.formatViewType="datetime","formatViewType"in options?this.formatViewType=options.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in options?this.minView=options.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=DPGlobal.convertViewMode(this.minView),this.maxView=DPGlobal.modes.length-1,"maxView"in options?this.maxView=options.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=DPGlobal.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in options?this.wheelViewModeNavigation=options.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in options?this.wheelViewModeNavigationInverseDirection=options.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in options?this.wheelViewModeNavigationDelay=options.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in options?this.startViewMode=options.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=DPGlobal.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in options?this.viewSelect=options.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=DPGlobal.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in options?this.forceParse=options.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=$(DPGlobal.template).appendTo(this.isInline?this.element:"body").on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&($.fn.mousewheel?this.picker.on({mousewheel:$.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.picker.addClass(this.isInline?"datetimepicker-inline":"datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("fa-arrow-left fa-arrow-right")),$(document).on("mousedown",function(e){0===$(e.target).closest(".datetimepicker").length&&that.hide()}),this.autoclose=!1,"autoclose"in options?this.autoclose=options.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in options?this.keyboardNavigation=options.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=options.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=options.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(options.weekStart||this.element.data("date-weekstart")||dates[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(options.startDate||this.element.data("date-startdate")),this.setEndDate(options.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(options.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};Datetimepicker.prototype={constructor:Datetimepicker,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:$.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:$.proxy(this.show,this)}]];for(var el,ev,i=0;i<this._events.length;i++)el=this._events[i][0],ev=this._events[i][1],el.on(ev)},_detachEvents:function(){for(var el,ev,i=0;i<this._events.length;i++)el=this._events[i][0],ev=this._events[i][1],el.off(ev);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),$(window).on("resize",$.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),$(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||$(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var d=this.getUTCDate();return new Date(d.getTime()+6e4*d.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(d){this.setUTCDate(new Date(d.getTime()-6e4*d.getTimezoneOffset()))},setUTCDate:function(d){d>=this.startDate&&d<=this.endDate?(this.date=d,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:d,startDate:this.startDate,endDate:this.endDate})},setFormat:function(format){this.format=DPGlobal.parseFormat(format,this.formatType);var element;this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element&&element.val()&&this.setValue()},setValue:function(){var formatted=this.getFormattedDate();this.isInput?this.element.val(formatted):(this.component&&this.element.find("input").val(formatted),this.element.data("date",formatted)),this.linkField&&$("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(format){return void 0==format&&(format=this.format),DPGlobal.formatDate(this.date,format,this.language,this.formatType)},setStartDate:function(startDate){this.startDate=startDate||-1/0,this.startDate!==-1/0&&(this.startDate=DPGlobal.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(endDate){this.endDate=endDate||1/0,1/0!==this.endDate&&(this.endDate=DPGlobal.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this.daysOfWeekDisabled=daysOfWeekDisabled||[],$.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=$.map(this.daysOfWeekDisabled,function(d){return parseInt(d,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var offset,top,left,zIndex=parseInt(this.element.parents().filter(function(){return"auto"!=$(this).css("z-index")}).first().css("z-index"))+10;this.component?(offset=this.component.offset(),left=offset.left,("bottom-left"==this.pickerPosition||"top-left"==this.pickerPosition)&&(left+=this.component.outerWidth()-this.picker.outerWidth())):(offset=this.element.offset(),left=offset.left),top="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?offset.top-this.picker.outerHeight():offset.top+this.height,this.picker.css({top:top,left:left,zIndex:zIndex})}},update:function(){var date,fromArgs=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(date=arguments[0],fromArgs=!0):date=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate,date||(date=new Date,fromArgs=!1),this.date=DPGlobal.parseDate(date,this.format,this.language,this.formatType),fromArgs&&this.setValue(),this.viewDate=new Date(this.date<this.startDate?this.startDate:this.date>this.endDate?this.endDate:this.date),this.fill()},fillDow:function(){for(var dowCnt=this.weekStart,html="<tr>";dowCnt<this.weekStart+7;)html+='<th class="dow">'+dates[this.language].daysMin[dowCnt++%7]+"</th>";html+="</tr>",this.picker.find(".datetimepicker-days thead").append(html)},fillMonths:function(){for(var html="",i=0;12>i;)html+='<span class="month">'+dates[this.language].monthsShort[i++]+"</span>";this.picker.find(".datetimepicker-months td").html(html)},fill:function(){if(null!=this.date&&null!=this.viewDate){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),dayMonth=d.getUTCDate(),hours=d.getUTCHours(),minutes=d.getUTCMinutes(),startYear=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,startMonth=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,endYear=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,endMonth=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,currentDate=new UTCDate(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),today=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(dates[this.language].months[month]+" "+year),"time"==this.formatViewType){var hourConverted=hours%12?hours%12:12,hoursDisplay=(10>hourConverted?"0":"")+hourConverted,minutesDisplay=(10>minutes?"0":"")+minutes,meridianDisplay=dates[this.language].meridiem[12>hours?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(hoursDisplay+":"+minutesDisplay+" "+meridianDisplay.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(hoursDisplay+":"+minutesDisplay+" "+meridianDisplay.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(dayMonth+" "+dates[this.language].months[month]+" "+year),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(dayMonth+" "+dates[this.language].months[month]+" "+year);this.picker.find("tfoot th.today").text(dates[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day),prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42),nextMonth=nextMonth.valueOf();for(var clsName,html=[];prevMonth.valueOf()<nextMonth;)prevMonth.getUTCDay()==this.weekStart&&html.push("<tr>"),clsName="",prevMonth.getUTCFullYear()<year||prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()<month?clsName+=" old":(prevMonth.getUTCFullYear()>year||prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()>month)&&(clsName+=" new"),this.todayHighlight&&prevMonth.getUTCFullYear()==today.getFullYear()&&prevMonth.getUTCMonth()==today.getMonth()&&prevMonth.getUTCDate()==today.getDate()&&(clsName+=" today"),prevMonth.valueOf()==currentDate&&(clsName+=" active"),(prevMonth.valueOf()+864e5<=this.startDate||prevMonth.valueOf()>this.endDate||-1!==$.inArray(prevMonth.getUTCDay(),this.daysOfWeekDisabled))&&(clsName+=" disabled"),html.push('<td class="day'+clsName+'">'+prevMonth.getUTCDate()+"</td>"),prevMonth.getUTCDay()==this.weekEnd&&html.push("</tr>"),prevMonth.setUTCDate(prevMonth.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(html.join("")),html=[];for(var txt="",meridian="",meridianOld="",i=0;24>i;i++){var actual=UTCDate(year,month,dayMonth,i);clsName="",actual.valueOf()+36e5<=this.startDate||actual.valueOf()>this.endDate?clsName+=" disabled":hours==i&&(clsName+=" active"),this.showMeridian&&2==dates[this.language].meridiem.length?(meridian=12>i?dates[this.language].meridiem[0]:dates[this.language].meridiem[1],meridian!=meridianOld&&(""!=meridianOld&&html.push("</fieldset>"),html.push('<fieldset class="hour"><legend>'+meridian.toUpperCase()+"</legend>")),meridianOld=meridian,txt=i%12?i%12:12,html.push('<span class="hour'+clsName+" hour_"+(12>i?"am":"pm")+'">'+txt+"</span>"),23==i&&html.push("</fieldset>")):(txt=i+":00",html.push('<span class="hour'+clsName+'">'+txt+"</span>"))}this.picker.find(".datetimepicker-hours td").html(html.join("")),html=[],txt="",meridian="",meridianOld="";for(var i=0;60>i;i+=this.minuteStep){var actual=UTCDate(year,month,dayMonth,hours,i,0);clsName="",actual.valueOf()<this.startDate||actual.valueOf()>this.endDate?clsName+=" disabled":Math.floor(minutes/this.minuteStep)==Math.floor(i/this.minuteStep)&&(clsName+=" active"),this.showMeridian&&2==dates[this.language].meridiem.length?(meridian=12>hours?dates[this.language].meridiem[0]:dates[this.language].meridiem[1],meridian!=meridianOld&&(""!=meridianOld&&html.push("</fieldset>"),html.push('<fieldset class="minute"><legend>'+meridian.toUpperCase()+"</legend>")),meridianOld=meridian,txt=hours%12?hours%12:12,html.push('<span class="minute'+clsName+'">'+txt+":"+(10>i?"0"+i:i)+"</span>"),59==i&&html.push("</fieldset>")):(txt=i+":00",html.push('<span class="minute'+clsName+'">'+hours+":"+(10>i?"0"+i:i)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(html.join(""));var currentYear=this.date.getUTCFullYear(),months=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");currentYear==year&&months.eq(this.date.getUTCMonth()).addClass("active"),(startYear>year||year>endYear)&&months.addClass("disabled"),year==startYear&&months.slice(0,startMonth).addClass("disabled"),year==endYear&&months.slice(endMonth+1).addClass("disabled"),html="",year=10*parseInt(year/10,10);var yearCont=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;for(var i=-1;11>i;i++)html+='<span class="year'+(-1==i||10==i?" old":"")+(currentYear==year?" active":"")+(startYear>year||year>endYear?" disabled":"")+'">'+year+"</span>",year+=1;yearCont.html(html),this.place()}},updateNavArrows:function(){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),day=d.getUTCDate(),hour=d.getUTCHours();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.startDate!==-1/0&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()&&hour<=this.startDate.getUTCHours()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()&&hour>=this.endDate.getUTCHours()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:this.picker.find(".prev").css(this.startDate!==-1/0&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()&&day<=this.startDate.getUTCDate()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()&&day>=this.endDate.getUTCDate()?{visibility:"hidden"}:{visibility:"visible"});break;case 2:this.picker.find(".prev").css(this.startDate!==-1/0&&year<=this.startDate.getUTCFullYear()&&month<=this.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&year>=this.endDate.getUTCFullYear()&&month>=this.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 3:case 4:this.picker.find(".prev").css(this.startDate!==-1/0&&year<=this.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.endDate&&year>=this.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var originalEvent=e.originalEvent,delta=originalEvent.wheelDelta,mode=delta>0?1:0===delta?0:-1;this.wheelViewModeNavigationInverseDirection&&(mode=-mode),this.showMode(mode),setTimeout($.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(e){e.stopPropagation(),e.preventDefault();var target=$(e.target).closest("span, td, th, legend");if(1==target.length){if(target.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*("prev"==target[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,dir);break;case 1:this.viewDate=this.moveDate(this.viewDate,dir);break;case 2:this.viewDate=this.moveMonth(this.viewDate,dir);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,dir)}this.fill();break;case"today":var date=new Date;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),0),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(date),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!target.is(".disabled")){var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),day=this.viewDate.getUTCDate(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();if(target.is(".month")?(this.viewDate.setUTCDate(1),month=target.parent().find("span").index(target),day=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(month),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))):target.is(".year")?(this.viewDate.setUTCDate(1),year=parseInt(target.text(),10)||0,this.viewDate.setUTCFullYear(year),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))):target.is(".hour")?(hours=parseInt(target.text(),10)||0,(target.hasClass("hour_am")||target.hasClass("hour_pm"))&&(12==hours&&target.hasClass("hour_am")?hours=0:12!=hours&&target.hasClass("hour_pm")&&(hours+=12)),this.viewDate.setUTCHours(hours),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))):target.is(".minute")&&(minutes=parseInt(target.text().substr(target.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(minutes),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))),0!=this.viewMode){var oldViewMode=this.viewMode;this.showMode(-1),this.fill(),oldViewMode==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(target.is(".day")&&!target.is(".disabled")){var day=parseInt(target.text(),10)||1,year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),hours=this.viewDate.getUTCHours(),minutes=this.viewDate.getUTCMinutes(),seconds=this.viewDate.getUTCSeconds();target.is(".old")?0===month?(month=11,year-=1):month-=1:target.is(".new")&&(11==month?(month=0,year+=1):month+=1),this.viewDate.setUTCFullYear(year),this.viewDate.setUTCMonth(month),this.viewDate.setUTCDate(day),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(UTCDate(year,month,day,hours,minutes,seconds,0))}var oldViewMode=this.viewMode;this.showMode(-1),this.fill(),oldViewMode==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(date,which){which&&"date"!=which||(this.date=date),which&&"view"!=which||(this.viewDate=date),this.fill(),this.setValue();var element;this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element&&(element.change(),this.autoclose&&(!which||"date"==which)),this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(date,dir){if(!dir)return date;var new_date=new Date(date.valueOf());return new_date.setUTCMinutes(new_date.getUTCMinutes()+dir*this.minuteStep),new_date},moveHour:function(date,dir){if(!dir)return date;var new_date=new Date(date.valueOf());return new_date.setUTCHours(new_date.getUTCHours()+dir),new_date},moveDate:function(date,dir){if(!dir)return date;var new_date=new Date(date.valueOf());return new_date.setUTCDate(new_date.getUTCDate()+dir),new_date},moveMonth:function(date,dir){if(!dir)return date;var new_month,test,new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir);if(dir=dir>0?1:-1,1==mag)test=-1==dir?function(){return new_date.getUTCMonth()==month}:function(){return new_date.getUTCMonth()!=new_month},new_month=month+dir,new_date.setUTCMonth(new_month),(0>new_month||new_month>11)&&(new_month=(new_month+12)%12);else{for(var i=0;mag>i;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth(),new_date.setUTCDate(day),test=function(){return new_month!=new_date.getUTCMonth()}}for(;test();)new_date.setUTCDate(--day),new_date.setUTCMonth(new_month);return new_date},moveYear:function(date,dir){return this.moveMonth(date,12*dir)},dateWithinRange:function(date){return date>=this.startDate&&date<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var dir,newDate,newViewDate,dateChanged=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;dir=37==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(newDate=this.moveYear(this.date,dir),newViewDate=this.moveYear(this.viewDate,dir)):3==viewMode?(newDate=this.moveMonth(this.date,dir),newViewDate=this.moveMonth(this.viewDate,dir)):2==viewMode?(newDate=this.moveDate(this.date,dir),newViewDate=this.moveDate(this.viewDate,dir)):1==viewMode?(newDate=this.moveHour(this.date,dir),newViewDate=this.moveHour(this.viewDate,dir)):0==viewMode&&(newDate=this.moveMinute(this.date,dir),newViewDate=this.moveMinute(this.viewDate,dir)),this.dateWithinRange(newDate)&&(this.date=newDate,this.viewDate=newViewDate,this.setValue(),this.update(),e.preventDefault(),dateChanged=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;dir=38==e.keyCode?-1:1,viewMode=this.viewMode,e.ctrlKey?viewMode+=2:e.shiftKey&&(viewMode+=1),4==viewMode?(newDate=this.moveYear(this.date,dir),newViewDate=this.moveYear(this.viewDate,dir)):3==viewMode?(newDate=this.moveMonth(this.date,dir),newViewDate=this.moveMonth(this.viewDate,dir)):2==viewMode?(newDate=this.moveDate(this.date,7*dir),newViewDate=this.moveDate(this.viewDate,7*dir)):1==viewMode?this.showMeridian?(newDate=this.moveHour(this.date,6*dir),newViewDate=this.moveHour(this.viewDate,6*dir)):(newDate=this.moveHour(this.date,4*dir),newViewDate=this.moveHour(this.viewDate,4*dir)):0==viewMode&&(newDate=this.moveMinute(this.date,4*dir),newViewDate=this.moveMinute(this.viewDate,4*dir)),this.dateWithinRange(newDate)&&(this.date=newDate,this.viewDate=newViewDate,this.setValue(),this.update(),e.preventDefault(),dateChanged=!0);break;case 13:if(0!=this.viewMode){var oldViewMode=this.viewMode;this.showMode(-1),this.fill(),oldViewMode==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();e.preventDefault();break;case 9:this.hide()}if(dateChanged){var element;this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element&&element.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(dir){if(dir){var newViewMode=Math.max(0,Math.min(DPGlobal.modes.length-1,this.viewMode+dir));newViewMode>=this.minView&&newViewMode<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:newViewMode}),this.viewMode=newViewMode)}this.picker.find(">div").hide().filter(".datetimepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")}},$.fn.datetimepicker=function(option){var args=Array.apply(null,arguments);return args.shift(),this.each(function(){var $this=$(this),data=$this.data("datetimepicker"),options="object"==typeof option&&option;data||$this.data("datetimepicker",data=new Datetimepicker(this,$.extend({},$.fn.datetimepicker.defaults,options))),"string"==typeof option&&"function"==typeof data[option]&&data[option].apply(data,args)})},$.fn.datetimepicker.defaults={},$.fn.datetimepicker.Constructor=Datetimepicker;var dates=$.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}},DPGlobal={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},getDefaultFormat:function(type,field){if("standard"==type)return"input"==field?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==type)return"input"==field?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(type){if("standard"==type)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==type)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(format,type){var separators=format.replace(this.validParts(type),"\x00").split("\x00"),parts=format.match(this.validParts(type));if(!separators||!separators.length||!parts||0==parts.length)throw new Error("Invalid date format.");return{separators:separators,parts:parts}},parseDate:function(date,format,language,type){if(date instanceof Date){var dateUTC=new Date(date.valueOf()-6e4*date.getTimezoneOffset());return dateUTC.setMilliseconds(0),dateUTC}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(date)&&(format=this.parseFormat("yyyy-mm-dd",type)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(date)&&(format=this.parseFormat("yyyy-mm-dd hh:ii",type)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(date)&&(format=this.parseFormat("yyyy-mm-dd hh:ii:ss",type)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(date)){var part,dir,part_re=/([-+]\d+)([dmwy])/,parts=date.match(/([-+]\d+)([dmwy])/g);date=new Date;for(var i=0;i<parts.length;i++)switch(part=part_re.exec(parts[i]),dir=parseInt(part[1]),part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+7*dir);break;case"y":date=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,date,dir)}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),0)}var val,filtered,part,parts=date&&date.match(this.nonpunctuation)||[],date=new Date(0,0,0,0,0,0,0),parsed={},setters_order=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],setters_map={hh:function(d,v){return d.setUTCHours(v)},h:function(d,v){return d.setUTCHours(v)},HH:function(d,v){return d.setUTCHours(12==v?0:v)},H:function(d,v){return d.setUTCHours(12==v?0:v)},ii:function(d,v){return d.setUTCMinutes(v)},i:function(d,v){return d.setUTCMinutes(v)},ss:function(d,v){return d.setUTCSeconds(v)},s:function(d,v){return d.setUTCSeconds(v)},yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2e3+v)},m:function(d,v){for(v-=1;0>v;)v+=12;for(v%=12,d.setUTCMonth(v);d.getUTCMonth()!=v;)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)},p:function(d,v){return d.setUTCHours(1==v?d.getUTCHours()+12:d.getUTCHours())}};if(setters_map.M=setters_map.MM=setters_map.mm=setters_map.m,setters_map.dd=setters_map.d,setters_map.P=setters_map.p,date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds()),parts.length==format.parts.length){for(var i=0,cnt=format.parts.length;cnt>i;i++){if(val=parseInt(parts[i],10),part=format.parts[i],isNaN(val))switch(part){case"MM":filtered=$(dates[language].months).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p}),val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p}),val=$.inArray(filtered[0],dates[language].monthsShort)+1;break;case"p":case"P":val=$.inArray(parts[i].toLowerCase(),dates[language].meridiem)}parsed[part]=val}for(var s,i=0;i<setters_order.length;i++)s=setters_order[i],s in parsed&&!isNaN(parsed[s])&&setters_map[s](date,parsed[s])}return date},formatDate:function(date,format,language,type){if(null==date)return"";var val;if("standard"==type)val={yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear(),m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],p:2==dates[language].meridiem.length?dates[language].meridiem[date.getUTCHours()<12?0:1]:"",h:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()},val.H=val.h%12==0?12:val.h%12,val.HH=(val.H<10?"0":"")+val.H,val.P=val.p.toUpperCase(),val.hh=(val.h<10?"0":"")+val.h,val.ii=(val.i<10?"0":"")+val.i,val.ss=(val.s<10?"0":"")+val.s,val.dd=(val.d<10?"0":"")+val.d,val.mm=(val.m<10?"0":"")+val.m;
else{if("php"!=type)throw new Error("Invalid format type.");val={y:date.getUTCFullYear().toString().substring(2),Y:date.getUTCFullYear(),F:dates[language].months[date.getUTCMonth()],M:dates[language].monthsShort[date.getUTCMonth()],n:date.getUTCMonth()+1,t:DPGlobal.getDaysInMonth(date.getUTCFullYear(),date.getUTCMonth()),j:date.getUTCDate(),l:dates[language].days[date.getUTCDay()],D:dates[language].daysShort[date.getUTCDay()],w:date.getUTCDay(),N:0==date.getUTCDay()?7:date.getUTCDay(),S:date.getUTCDate()%10<=dates[language].suffix.length?dates[language].suffix[date.getUTCDate()%10-1]:"",a:2==dates[language].meridiem.length?dates[language].meridiem[date.getUTCHours()<12?0:1]:"",g:date.getUTCHours()%12==0?12:date.getUTCHours()%12,G:date.getUTCHours(),i:date.getUTCMinutes(),s:date.getUTCSeconds()},val.m=(val.n<10?"0":"")+val.n,val.d=(val.j<10?"0":"")+val.j,val.A=val.a.toString().toUpperCase(),val.h=(val.g<10?"0":"")+val.g,val.H=(val.G<10?"0":"")+val.G,val.i=(val.i<10?"0":"")+val.i,val.s=(val.s<10?"0":"")+val.s}for(var date=[],seps=$.extend([],format.separators),i=0,cnt=format.parts.length;cnt>i;i++)seps.length&&date.push(seps.shift()),date.push(val[format.parts[i]]);return date.join("")},convertViewMode:function(viewMode){switch(viewMode){case 4:case"decade":viewMode=4;break;case 3:case"year":viewMode=3;break;case 2:case"month":viewMode=2;break;case 1:case"day":viewMode=1;break;case 0:case"hour":viewMode=0}return viewMode},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-angle-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="fa fa-angle-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};DPGlobal.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table></div></div>",$.fn.datetimepicker.DPGlobal=DPGlobal,$.fn.datetimepicker.noConflict=function(){return $.fn.datetimepicker=old,this},$(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var $this=$(this);$this.data("datetimepicker")||(e.preventDefault(),$this.datetimepicker("show"))}),$(function(){$('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery);