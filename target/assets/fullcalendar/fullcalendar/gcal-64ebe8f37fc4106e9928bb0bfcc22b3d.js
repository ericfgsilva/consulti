!function($){function transformOptions(sourceOptions,start,end){var success=sourceOptions.success,data=$.extend({},sourceOptions.data||{},{"start-min":formatDate(start,"u"),"start-max":formatDate(end,"u"),singleevents:!0,"max-results":9999}),ctz=sourceOptions.currentTimezone;return ctz&&(data.ctz=ctz=ctz.replace(" ","_")),$.extend({},sourceOptions,{url:sourceOptions.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:data,startParam:!1,endParam:!1,success:function(data){var events=[];data.feed.entry&&$.each(data.feed.entry,function(i,entry){var url,startStr=entry.gd$when[0].startTime,start=parseISO8601(startStr,!0),end=parseISO8601(entry.gd$when[0].endTime,!0),allDay=-1==startStr.indexOf("T");$.each(entry.link,function(i,link){"text/html"==link.type&&(url=link.href,ctz&&(url+=(-1==url.indexOf("?")?"?":"&")+"ctz="+ctz))}),allDay&&addDays(end,-1),events.push({id:entry.gCal$uid.value,title:entry.title.$t,url:url,start:start,end:end,allDay:allDay,location:entry.gd$where[0].valueString,description:entry.content.$t})});var args=[events].concat(Array.prototype.slice.call(arguments,1)),res=applyAll(success,this,args);return $.isArray(res)?res:events}})}var fc=$.fullCalendar,formatDate=fc.formatDate,parseISO8601=fc.parseISO8601,addDays=fc.addDays,applyAll=fc.applyAll;fc.sourceNormalizers.push(function(sourceOptions){("gcal"==sourceOptions.dataType||void 0===sourceOptions.dataType&&(sourceOptions.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(sourceOptions.dataType="gcal",void 0===sourceOptions.editable&&(sourceOptions.editable=!1))}),fc.sourceFetchers.push(function(sourceOptions,start,end){return"gcal"==sourceOptions.dataType?transformOptions(sourceOptions,start,end):void 0}),fc.gcalFeed=function(url,sourceOptions){return $.extend({},sourceOptions,{url:url,dataType:"gcal"})}}(jQuery);